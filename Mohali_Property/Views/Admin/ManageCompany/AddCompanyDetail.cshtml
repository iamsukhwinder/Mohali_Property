
@*    
For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?Linkname="" id=397860
*@

<style>
    #add_company_form {
         margin-top:30px;
         margin-left:30px;
         margin-right:30px;
               
     }
     #p1{
        opacity: 1;
        color: red;
     }
     
     #div2{
         background-color:lightgrey;
         color:white;
     }

</style>

<div id="div1" class="container">

    <form asp-controller="admin" asp-action="AddCompanyDetail" method="post" enctype="multipart/form-data" id="add_company_form" >
        <h3>Add Company</h3>

        <br />
        <div id="div2">
            <h3>Company Information</h3>

        </div>
        
        <p id="p1">* All Fields are Required</p>
        <div class="row">
            <div class="form-group col-md-6">
                <label>Company</label>
                <input type="text" class="form-control" name="company" id="company" placeholder="Company">
                <span style="color:red" id="ecompany"></span>
            </div>
            <div class="form-group col-md-6">
                <label>Company Name</label>
                <input type="text" class="form-control" name="companyname" id="companyname" placeholder="Company Name">
                <span style="color:red" id="ecompanyname"></span>
            </div>
        </div><br />
    <div class="row">
            <div class="form-group col-md-6">
                <label>Email</label>
                <input type="email" class="form-control" name="email" id="email" placeholder="Email">
                <span style="color:red" id="eemail"></span>
            </div>
            <div class="form-group col-md-6">
               <label> Company Address</label>
                <input type="text" class="form-control" name="address" id="address" placeholder="Company Address">
                <span style="color:red" id="eaddress"></span>
            </div>

     </div>
     <br />
     <div class="row">
        <div class="form-group col-md-6">
            <label>City</label>
            <input type="text" class="form-control" name="city" id="city" placeholder="City">
            <span style="color:red" id="ecity"></span>
        </div>
            <div class="form-group col-md-4">
                <label>State</label>
                <select name="state" id="state" class="form-control">
                    <option selected>choose...</option>
                    <option value="Andhra Pradesh">Andhra Pradesh</option>
                    <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                    <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                    <option value="Assam">Assam</option>
                    <option value="Bihar">Bihar</option>
                    <option value="Chandigarh">Chandigarh</option>
                    <option value="Chhattisgarh">Chhattisgarh</option>
                    <option value="Dadar and Nagar Haveli">Dadar and Nagar Haveli</option>
                    <option value="Daman and Diu">Daman and Diu</option>
                    <option value="Delhi">Delhi</option>
                    <option value="Lakshadweep">Lakshadweep</option>
                    <option value="Puducherry">Puducherry</option>
                    <option value="Goa">Goa</option>
                    <option value="Gujarat">Gujarat</option>
                    <option value="Haryana">Haryana</option>
                    <option value="Himachal Pradesh">Himachal Pradesh</option>
                    <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                    <option value="Jharkhand">Jharkhand</option>
                    <option value="Karnataka">Karnataka</option>
                    <option value="Kerala">Kerala</option>
                    <option value="Madhya Pradesh">Madhya Pradesh</option>
                    <option value="Maharashtra">Maharashtra</option>
                    <option value="Manipur">Manipur</option>
                    <option value="Meghalaya">Meghalaya</option>
                    <option value="Mizoram">Mizoram</option>
                    <option value="Nagaland">Nagaland</option>
                    <option value="Odisha">Odisha</option>
                    <option value="Punjab">Punjab</option>
                    <option value="Rajasthan">Rajasthan</option>
                    <option value="Sikkim">Sikkim</option>
                    <option value="Tamil Nadu">Tamil Nadu</option>
                    <option value="Telangana">Telangana</option>
                    <option value="Tripura">Tripura</option>
                    <option value="Uttar Pradesh">Uttar Pradesh</option>
                    <option value="Uttarakhand">Uttarakhand</option>
                    <option value="West Bengal">West Bengal</option>
                </select>
                <span style="color:red" id="estate"></span>

            </div>

     </div>
     <br />

        <div class="row">
            
            <div class="form-group col-md-2">
                <label>PinCode</label>
                <input type="text" class="form-control" name="pincode" id="pincode">
                <span style="color:red" id="epincode"></span>
            </div>

        <div class="form-group col-md-2">
            <label>Website</label>
                <input type="text" class="form-control" name="website" id="website">
                <span style="color:red" id="ewebsite"></span>
        </div>

        <div class="form-group col-md-2">
            <label>GST No</label>
                <input type="text" class="form-control" name="gst" id="gst">
                <span style="color:red" id="egst"></span>
        </div>

        <div class="form-group col-md-2">
            <label>Status</label>
                <select name="status" id="status" class="form-control">
                    <option selected>choose...</option>
                    <option>Active</option>
                    <option>InActive</option>
                    
                </select>
                <span style="color:red" id="estatus"></span>
        </div>
        <div class="form-group col-md-2">
            <label>Mobile Number</label>
                <input type="text" class="form-control" name="mobilenumber" id="mobilenumber">
                <span style="color:red" id="emobilenumber"></span>
        </div>
        <div class="form-group col-md-2">
            <label>Landline Number</label>
                <input type="text" class="form-control" name="landlinenumber" id="landlinenumber">
                <span style="color:red" id="elandlinenumber"></span>
        </div>
        <br />

        </div>
        <br />

        <div class="form-group col-md-2">
            <label for="company_logo">Company Logo</label>
            <input type="file" name="company_logo" class="form-control" id="company_logo">
            <span style="color:red" id="ecompany_logo"></span>
        </div><br />
     

        <button type="button" class="btn btn-primary" onclick="add_company()" >Submit</button>
    

</form>
</div>
<script>


    
    function add_company(){
        
        validate();
        var data = new FormData();
        var form_data = $('#add_company_form').serializeArray();
        $.each(form_data, function (key, input) {
            data.append(input.name, input.value)
        });
       
        var image = $("#company_logo").val();
        if (image != '') {
            var file_data = $('input[name = company_logo]')[0].files;
            for (var i = 0; i < file_data.length; i++) {
                data.append("image", file_data[i]);
            }
            $.ajax({
                url: '/Admin/AddCompanyDetail',
                type: "post",
                dataType: 'json',
                processData: false,
                contentType: false,
                data: data,
                
                success: function (res) {

                    if (res == 1) {

                        alert("Company Added");
                        
                    } 
                    else {
                        alert("Please try again");

                    }
                    if(res == 300){
                        alert ("only image is alowed to upload");
                    }
                    if(res == 301){
                        alert ("please upload only one file");
                    }
                    
                }

            });

        }
        
    }





    



        function validate() {
            var result = true;

            var company = $("#company").val();

            if (company == "") {
                result = false;
            $("#ecompany").html("please enter company ");

            }
            else {
                $("#ecompany").html("");
            }


            var companyname = $("#companyname").val();
            if (companyname == "") {
                result = false;
            $("#ecompanyname").html("please enter company name");

            }
            else {
            $("#ecompanyname").html("");
            }

        var email = $("#email").val();
        if (email == "") {
            result = false;
            $("#eemail").html("please enter email");

        }
        else {
            $("#eemail").html("");
        }


        var address = $("#address").val();
        if (address == "") {
            result = false;
            $("#eaddress").html("please enter address");

        }
        else {
            $("#eaddress").html("");
        }


        var city = $("#city").val();
        if (city == "") {
            result = false;
            $("#ecity").html("please enter city");

        }
        else {
            $("#ecity").html("");
        }

        var state = $("#state").val();
        debugger;
        if (state == "choose...") {
            result = false;
            $("#estate").html("please select state");

        }
        else {
            $("#estate").html("");
        }


        var pincode = $("#pincode").val();
        if (pincode == "") {
            result = false;
            $("#epincode").html("please enter pincode");

        }
        else {
            $("#epincode").html("");
        }

        var website = $("#website").val();
        if (website == "") {
            result = false;
            $("#ewebsite").html("please enter website");

        }
        else {
            $("#ewebsitee").html("");
        }

        var gst = $("#gst").val();
        if (gst == "") {
            result = false;
            $("#egst").html("please enter gst");

        }
        else {
            $("#egst").html("");
        }

       


        var status = $("#status").val();
        if (status == "choose...") {
            result = false;
            $("#estatus").html("please enter status");

        }
        else {
            $("#estatus").html("");
        }

       



        var mobilenumber = $("#mobilenumber").val();
        if (mobilenumber == "") {
            result = false;
            $("#emobilenumber").html("please enter moblie number");

        }
        else {
            $("#emobilenumber").html("");
        }

        var landlinenumber = $("#landlinenumber").val();
        if (landlinenumber == "") {
            result = false;
            $("#elandlinenumber").html("please enter landline number");

        }
        else {
            $("#elandlinenumber").html("");
        }


        var company_logo = $("#company_logo").val();
        if (company_logo == "") {
            result = false;
            $("#ecompany_logo").html("please insert logo");

        }
        else {
            $("#ecompany_logo").html("");
        }


            return result;
        }

</script>

